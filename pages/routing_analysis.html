<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="keywords" content="computer science, machine learning, artificial Intelligence">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--TITLE-->
    <link rel="icon" href="../assets/routing.jpg">
    <title>Mixtral 8x7B Routing Analysis</title> 

    <!--LINKS-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../index.css">
    <script src="../index.js" defer></script>
</head>


<body>
    <div class="theme-switch-wrapper page">
        <label class="theme-switch" for="checkbox">
            <i class="fas fa-moon theme-icon" id="moon-icon"></i>
            <input type="checkbox" id="checkbox" class="theme-toggle-checkbox" />
            <div class="slider round"></div>
            <i class="fas fa-sun theme-icon" id="sun-icon"></i>
        </label>
    </div>

    <div class="home-icon-wrapper">
        <a href="../index.html">
            <i class="fas fa-home"></i>
        </a>
    </div>

    <div class="container">
        <div class="project-logo">
            <img src="../assets/routing.jpg">
        </div>
        <h1 style="width: 70%;">Mixtral 8x7B Routing Analysis</h1>
        <h2 style="width: 70%;">based on Part-of-Speech tags</h2>
    
                
        <!--<div class="link-container">-->

            <!-- Report Link 
            <a href="path/to/report.pdf" target="_blank" class="link-box">
                <i class="fas fa-file-pdf"></i>
                <span>Report</span>
            </a>-->
            
            <!-- Code Link 
            <a href="" target="_blank" class="link-box">
                <i class="fab fa-github"></i>
                <span>Code</span>
            </a>-->

        <!--</div>-->
    </div>    

    <div class="divider"></div>
    <div class="container">
        <img src="../assets/routing_plot.pdf" class="cover-image">
        <!--<p>Graphic by:</p>-->
        <div class="divider"></div>
        <h2>About</h2>
        <br>
        <div class="text-container">
            <p>In this analysis, I employed MistralAI's Mixtral 8x7B model to conduct a routing analysis based on Part-of-Speech (POS) tags. This approach diverged from the original paper where token categorization was determined by document context. The <a href="https://huggingface.co/datasets/teknium/openhermes">"openhermes"</a> dataset was utilized, focusing on the first 5,000 instructions. For each instruction in the dataset, I extracted the router logits for every token, mapping these tokens back to their corresponding words. Each word's contributing tokens were grouped, and the indices of the two routers with the highest probabilities were identified. Using the spaCy library, I determined the POS tags for these words, enabling the assignment of router indices to the corresponding POS categories. This analysis was conducted across three distinct layers of the model: the initial layer, a central layer, and the final layer. The distribution of router assignments across POS tags was visualized, highlighting deviations from the expected uniform distribution, represented by a red dashed line at the fraction 1/8.</p>
        </div>
        <div class="divider"></div>
    </div>

    <div class="divider"></div>
</body>
</html>
